#!/bin/bash

# CSV file path
csv_file="/test/new_file.csv"

# Output CSV files paths
found_csv="/test/found_items.csv"
not_found_csv="/test/not_found_items.csv"

# Directory path to check for files
directory_path="/your/directory/path"

# Create or truncate the output CSV files
echo "Item,Status" > "$found_csv"
echo "Item,Status" > "$not_found_csv"

# Read the CSV file line by line
while IFS=, read -r item; do
    # Remove quotes from the item name
    item=$(echo "$item" | tr -d '"')

    # Check if the item exists in the directory
    if [ -e "$directory_path/$item" ]; then
        echo "$item,Found" >> "$found_csv"
    else
        echo "$item,Not found" >> "$not_found_csv"
    fi
done < "$csv_file"
